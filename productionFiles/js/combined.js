document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".product-card").forEach(card=>{const images=card.querySelectorAll(".product-image");if(images.length===2){const frontImage=images[0],backImage=images[1];backImage.style.display="none",card.addEventListener("mouseenter",()=>{frontImage.style.display="none",backImage.style.display="block"}),card.addEventListener("mouseleave",()=>{backImage.style.display="none",frontImage.style.display="block"})}})});const phoneInputField=document.querySelector("#phone"),phoneInput=window.intlTelInput(phoneInputField,{utilsScript:"https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/js/utils.js"});demo_btn.addEventListener("click",()=>{const phoneNumber=phoneInput.getNumber();document.getElementById("phone").value=phoneNumber,document.getElementById("newsletter_submit").click()});const cart=document.getElementById("cart"),cartBtn=document.getElementById("cart-btn"),overlay=document.getElementById("overlay"),closeCart=document.getElementById("close-cart-button");function displayCartItems(){let cartBox=document.getElementById("cartBox");cartBox.innerHTML="";let totalPrice=0,cart=JSON.parse(localStorage.getItem("cart"))||[];document.getElementById("checkout_items").innerText=cart.length,cart.length>0?(cart.forEach(item=>{cartBox.innerHTML+=`<div class="cart-item" style="padding:10px;margin:10px;display:flex;align-items:center;position:relative;"><img src="${item.image_url}" alt="Product Image" width="100" style="border-radius:8px;margin-right:15px;"><div style="flex:1;"><div style="display:flex;gap:5px;"><p style="margin:0;font-weight:bold;font-size:14px;">${item.product_name}</p><p style="margin:0;font-size:14px;"> x${item.quantity}</p></div><div style='display:flex;justify-content:space-between;'><p style="margin:0;font-size:14px;">${item.selectedSize}</p><p style="margin:0;font-size:14px;"> GHS ${item.price}</p></div></div><button class="close-button" onclick="removeFromCart('${item.product_id_date}')" style="position:absolute;top:10px;right:10px;background:#fff;border:none;cursor:pointer;font-size:16px;color:#FF5722;">&times;</button></div>`,totalPrice+=item.price}),cartBox.innerHTML+=`<div style="display:flex;justify-content:space-between;align-items:center;margin-left:20px;" id="total-price-div"><div>Total:</div><div class="total-price" id="total-price" style="color:#28a745;font-weight:bold;margin-right:20px;">GHS${totalPrice.toFixed(2)}</div></div><div style="text-align:center;margin:20px;"><a href="{% url 'checkout' %}"><button style="padding:10px 20px;width:100%;background-color:#228B22;color:white;border:none;border-radius:5px;cursor:pointer;">Checkout</button></a></div><div style="width:100%;height:150px"></div>`):cartBox.innerHTML='<div class="empty-cart" style="text-align:center;margin-top:40px;">Nothing in Cart</div>'}function removeFromCart(e){let t=JSON.parse(localStorage.getItem("cart"))||[];t=t.filter(t=>t.product_id_date!==e),localStorage.setItem("cart",JSON.stringify(t)),displayCartItems()}closeCart.onclick=()=>{cart.classList.remove("active"),overlay.style.display="none",document.body.style.overflowY="scroll"},cartBtn.addEventListener("click",()=>{cart.classList.add("active"),overlay.style.display="block",document.body.style.overflowY="hidden"}),overlay.addEventListener("click",()=>{cart.classList.remove("active"),overlay.style.display="none",document.body.style.overflowY="scroll"}),window.onload=displayCartItems,document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelectorAll(".toggle-box"),t=document.querySelectorAll(".product-card");e.forEach(c=>{c.addEventListener("click",()=>{e.forEach(e=>e.classList.remove("active")),c.classList.add("active");const o=c.getAttribute("data-filter");t.forEach(e=>{"All"===o||e.classList.contains(o)?e.style.display="flex":e.style.display="none"})})}),document.querySelector(".toggle-box[data-filter='All']").click()});
